config_target: src.models.model_configs.metricVAEConfig

ddconfig:
  name: "Swin-Tiny" #"Efficient-B0-RA"
  input_dim: [1, 288, 128]
  dec_use_local_attn: False # Currently a bug in this somewhere
  latent_dim: 128
#  n_conv_layers: 5

lossconfig:
  reconstruction_loss: "L2"

  # KLD
  kld_weight: 1.0
  schedule_kld: True
  
  # Metric
  metric_weight: 1.0
  temperature: 0.1
  margin: 1.0
  schedule_metric: True

  # PIPS
  pips_flag: True
  pips_weight: 7.5
  pips_net: "vgg"

  # GAN
  use_gan: True
  gan_weight: 1.0
  gan_net: "style2"
  schedule_gan: True

dataconfig:
  target: "BasicDataset"
  num_workers: 8
  batch_size: 256
  wrap: True
  root: ${ancestor:${hydra:run.dir},2} #"/media/nick/hdd021/Cole Trapnell's Lab Dropbox/Nick Lammers/Nick/morphseq/training_data/20241107_ds/"

trainconfig:
  benchmark: True
  accumulate_grad_batches: 1
  max_epochs: 50
  save_epochs: [9, 19, 29]
  eval_gpu_flag: True